<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Clarkie - That's me!</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>


	<div class="container">
		<h1>Clarkie IO
		<small><a href="https://www.linkedin.com/in/clarkie1" target="_blank" class="icon-stack">
						<i class="icon-linkedin"></i>
					</a>
					<a href="https://twitter.com/clarkieclarkie" target="_blank" class="icon-stack">
						<i class="icon-twitter"></i>
					</a>
					<a href="https://github.com/clarkie" target="_blank" class="icon-stack">
						<i class="icon-github"></i>
					</a>
		</small>
		</h1>
		<hr />
		
		<div id="article-summary" class="page"></div>
		
		<footer class="footer">
			<div class="container">
			     <nav>
			     	<h1>
					
					</h1>
				</nav>
			</div>
		</footer>
		<div class="row">
			<p class="text-muted credit">&copy; copyright 2013. Clarkie. All Rights Reserved.</p>
		</div>
	</div>



	<script src="js/jquery.js" type="text/javascript"></script>
	<script src="js/underscore.js" type="text/javascript"></script>
	<script src="js/backbone.js" type="text/javascript"></script>

	<script type="text/template" id="summary_template">
		<div class="row">
			<% _.each( siteSummary, function( article ){ %>

  				<div class="col-xs-12 col-sm-6 col-md-4">
				<h3 class="text-primary"><i class="icon-bulb"></i><%= article.get("title") %></h3>
				<p><%= article.get("body") %></p>
				</div>
			<% }); %>
		</div>

	</script>
	<script type="text/javascript">


		/********************************************************/
		/* Models 												*/
		/********************************************************/
		var Article = Backbone.Model.extend({
			defaults: {
				title: "Not specified",
				body: "Not specified"
			},
			initialize: function(){
				console.log("An article created!");
			}
		});

		var Articles = Backbone.Collection.extend({
			model: Article
		});

		var article1 = new Article({ title: "Technical Debt", body: "How do you prevent your code from falling off the cliff?" });
		var article2 = new Article({ title: "I love graphs!", body: "Graphite and statsd intro at ConcretePlatform" });
		var article3 = new Article({ title: "Delete code", body: "Fisheye and deleteing code. 16 million lines of code to 750k" });
		var article4 = new Article({ title: "Database Analysis", body: "Looking at optimisation techniques from an outsiders point of view" });
		var article5 = new Article();


		var siteSummary = new Articles([ article1, article2, article3, article4, article5]);

		/********************************************************/
		/* Views 												*/
		/********************************************************/

		SummaryView = Backbone.View.extend({
			initialize: function(){
				//this.render();
			},
			render: function(){
				var template = _.template( $("#summary_template").html(), { siteSummary: siteSummary.models } );
				this.$el.html( template );
			}
		});


		var summary_view = new SummaryView({ el: $("#article-summary") });


		/********************************************************/
		/* Router 												*/
		/********************************************************/
		var Router = Backbone.Router.extend({
				routes: {
					"": "home", 
					"article/:id": "fullArticle",
				}
		});

		var router = new Router;
		router.on('route:home', function() {
			// render user list
		 	summary_view.render();
		});
		router.on('route:fullArticle', function(id) {
			console.log('fullArticle');
			//userEditView.render({id: id});
		});
		Backbone.history.start();
	</script>



</body>
</html> 



